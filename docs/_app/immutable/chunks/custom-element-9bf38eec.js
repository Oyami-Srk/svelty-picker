const h=["value","name","placeholder","start-date","end-date","disabled","input-classes","mode","format","format-type","display-format","display-format-type","week-start","today-btn","clear-btn","autoclose","required"];function o(r,s){switch(r){case"value":return s||"";case"required":case"disabled":case"today-btn":case"clear-btn":case"autoclose":return s!==null&&s!=="false";case"weekStart":return parseInt(s)}return s}function c(r){return r.includes("-")?r.split("-").reduce((s,e,n)=>(n&&(e=e[0].toUpperCase()+e.substr(1)),s+e),""):r}let l,d;class b extends HTMLElement{constructor(){super(),this.picker=null,this.valueElement=null,this.displayElement=null;const s=["value","name","placeholder","mode","format"].reduce((t,i)=>(t[i]={get(){return o(i,this.getAttribute(i))},set(a){this.setAttribute(i,a)}},t),{}),e={form:{get(){return this.closest("form")}},weekStart:{get(){return this.getAttribute("week-start")},set(t){this.setAttribute("week-start",t)}},startDate:{get(){return this.getAttribute("start-date")},set(t){t&&this.setAttribute("start-date",t),!t&&this.removeAttribute("start-date")}},endDate:{get(){return this.getAttribute("end-date")},set(t){t&&this.setAttribute("end-date",t),!t&&this.removeAttribute("end-date")}},inputClasses:{get(){return this.getAttribute("input-classes")},set(t){t&&this.setAttribute("input-classes",t),!t&&this.removeAttribute("input-classes")}},formatType:{get(){return this.getAttribute("format-type")},set(t){t&&["standard","php"].includes(t)&&this.setAttribute("format-type",t),!t&&this.removeAttribute("format-type")}},displayFormat:{get(){return this.getAttribute("display-format")},set(t){t&&this.setAttribute("display-format",t),!t&&this.removeAttribute("display-format")}},displayFormatType:{get(){return this.getAttribute("display-format-type")},set(t){t&&["standard","php"].includes(t)&&this.setAttribute("display-format-type",t),!t&&this.removeAttribute("display-format-type")}}},n=["required","disabled","today-btn","clear-btn","autoclose"].reduce((t,i)=>{const a=c(i);return t[a]={get(){const u=this.hasAttribute(i),p=u?this.getAttribute(i)!=="false":!0;return u?p:d[a]},set(u){u?this.setAttribute(i,u=""):this.hasAttribute(i)?this.removeAttribute(i):this.picker.$set({[a]:u})}},t},{});Object.defineProperties(this,Object.assign({},s,e,n))}focus(){if(this.disabled)return;const s=this.querySelector('input[type="text"]');s&&s.focus()}static get observedAttributes(){return h}attributeChangedCallback(s,e,n){this.picker&&e!==n&&this.picker.$set({[c(s)]:o(s,n)})}connectedCallback(){setTimeout(()=>this.init())}init(){if(this.picker)return;const s={};for(const e of h)this.hasAttribute(e)&&(s[c(e)]=o(e,this.getAttribute(e)));if(this.valueElement=this.querySelector('input[type="hidden"]'),this.displayElement=this.querySelector('input[type="text"]'),this.valueElement&&(s.ce_valueElement=this.valueElement),this.displayElement&&(s.ce_displayElement=this.displayElement),this.picker=new l({target:this,props:s}),this.picker.$on("input",e=>{this.setAttribute("value",e.detail||""),this.dispatchEvent(new Event("input"))}),this.picker.$on("blur",e=>{this.dispatchEvent(new Event("blur"))}),this.hasAttribute("from")){const e=document.getElementById(this.getAttribute("from"));e.oninput=n=>{this.picker.$set({startDate:e.value})}}if(this.hasAttribute("to")){const e=document.getElementById(this.getAttribute("to"));e.oninput=n=>{this.picker.$set({endDate:e.value})}}}disconnectedCallback(){this.picker&&this.picker.$destroy()}}function f(r,s,e){l=s,d=e,window.customElements.define(r,b)}export{f as registerSveltyPicker};
